\hypertarget{action_8c}{}\doxysection{src/action.c File Reference}
\label{action_8c}\index{src/action.c@{src/action.c}}


Functions for manipulating the \mbox{\hyperlink{structAction}{Action}} struct arrays.  


{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include \char`\"{}action.\+h\char`\"{}}\newline
Include dependency graph for action.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=342pt]{action_8c__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=332pt]{action_8c__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{action_8c_aa69b05b7473ca303c514cb73c8ffaa2c}{is\+Earlier}} (struct \mbox{\hyperlink{structAction}{Action}} $\ast$previous\+Struct, struct \mbox{\hyperlink{structAction}{Action}} $\ast$current\+Struct)
\begin{DoxyCompactList}\small\item\em Compare each attribute of previous and current struct to determine which of the two is greater. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{action_8c_af3e40c6c5ac5bb3604a4b7c439c3c0b8}{sort\+Actions}} (struct \mbox{\hyperlink{structAction}{Action}} $\ast$actions, int length\+Of\+Array)
\begin{DoxyCompactList}\small\item\em Sort structs with qsort() algorithm from stdlib library. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{action_8c_ab1608272dec2ef3331ef6317a1249523}{comparison\+Function}} (const void $\ast$previous, const void $\ast$current)
\begin{DoxyCompactList}\small\item\em Compare previous and current struct which result is passed to qsort() function. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structAction}{Action}} $\ast$ \mbox{\hyperlink{action_8c_ac216a26f14c5aebb10cc9552cb6f5dbe}{add\+Action}} (int user\+ID, int action\+Type, struct \mbox{\hyperlink{structAction}{Action}} $\ast$actions, int length\+Of\+Array)
\begin{DoxyCompactList}\small\item\em Creates a new struct \mbox{\hyperlink{structAction}{Action}} element and adds it to the end of an existing array of struct \mbox{\hyperlink{structAction}{Action}}. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{action_8c_ab29c0baf871af9de2792e4debccd4231}{find\+Next}} (int current\+Index, struct \mbox{\hyperlink{structAction}{Action}} $\ast$actions, int length)
\begin{DoxyCompactList}\small\item\em Finds the index of the next struct \mbox{\hyperlink{structAction}{Action}} element with a different user ID than the current element. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{action_8c_aac933e8d78c8fdad4d0af46337ded132}{same\+Day}} (struct \mbox{\hyperlink{structAction}{Action}} $\ast$x, struct \mbox{\hyperlink{structAction}{Action}} $\ast$y)
\begin{DoxyCompactList}\small\item\em Checks whether two struct \mbox{\hyperlink{structAction}{Action}} elements occurred on the same day. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{action_8c_ac8f230b75ef0e2695f4440d4575faad0}{time\+Spent}} (int state, unsigned int user\+ID, int year, int month, int day, struct \mbox{\hyperlink{structAction}{Action}} $\ast$actions)
\begin{DoxyCompactList}\small\item\em calculates the time spent in a certain state. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Functions for manipulating the \mbox{\hyperlink{structAction}{Action}} struct arrays. 

\begin{DoxyAuthor}{Author}
Uras Ayanoglu 

Jan-\/\+Krister Helenius 

Sebastian Sopola 
\end{DoxyAuthor}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{action_8c_ac216a26f14c5aebb10cc9552cb6f5dbe}\label{action_8c_ac216a26f14c5aebb10cc9552cb6f5dbe}} 
\index{action.c@{action.c}!addAction@{addAction}}
\index{addAction@{addAction}!action.c@{action.c}}
\doxysubsubsection{\texorpdfstring{addAction()}{addAction()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structAction}{Action}} $\ast$ add\+Action (\begin{DoxyParamCaption}\item[{int}]{user\+ID,  }\item[{int}]{action\+Type,  }\item[{struct \mbox{\hyperlink{structAction}{Action}} $\ast$}]{actions,  }\item[{int}]{length\+Of\+Array }\end{DoxyParamCaption})}



Creates a new struct \mbox{\hyperlink{structAction}{Action}} element and adds it to the end of an existing array of struct \mbox{\hyperlink{structAction}{Action}}. 

Adds an \mbox{\hyperlink{structAction}{Action}} struct to an array of such structs, using current time.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em user\+ID} & The ID of the user performing the action. \\
\hline
\mbox{\texttt{ in}}  & {\em action\+Type} & The type of action being performed. \\
\hline
\mbox{\texttt{ in}}  & {\em actions} & The existing array of struct \mbox{\hyperlink{structAction}{Action}} to which the new element will be added. \\
\hline
\mbox{\texttt{ in}}  & {\em length\+Of\+Array} & The number of elements in the existing array. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the new array of struct \mbox{\hyperlink{structAction}{Action}}, which contains all the old elements from the input array and the new struct \mbox{\hyperlink{structAction}{Action}} element at the end. 
\end{DoxyReturn}
\mbox{\Hypertarget{action_8c_ab1608272dec2ef3331ef6317a1249523}\label{action_8c_ab1608272dec2ef3331ef6317a1249523}} 
\index{action.c@{action.c}!comparisonFunction@{comparisonFunction}}
\index{comparisonFunction@{comparisonFunction}!action.c@{action.c}}
\doxysubsubsection{\texorpdfstring{comparisonFunction()}{comparisonFunction()}}
{\footnotesize\ttfamily int comparison\+Function (\begin{DoxyParamCaption}\item[{const void $\ast$}]{previous,  }\item[{const void $\ast$}]{current }\end{DoxyParamCaption})}



Compare previous and current struct which result is passed to qsort() function. 

Compares current and previous \mbox{\hyperlink{structAction}{Action}} structs attribute by attribute.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em previous} & pointer to the previous struct \mbox{\hyperlink{structAction}{Action}} \\
\hline
\mbox{\texttt{ in}}  & {\em current} & pointer to the current struct \mbox{\hyperlink{structAction}{Action}} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/1 if previous is greater than current, 1 if current is greater than previous, 0 if previous and current are equal 
\end{DoxyReturn}
\mbox{\Hypertarget{action_8c_ab29c0baf871af9de2792e4debccd4231}\label{action_8c_ab29c0baf871af9de2792e4debccd4231}} 
\index{action.c@{action.c}!findNext@{findNext}}
\index{findNext@{findNext}!action.c@{action.c}}
\doxysubsubsection{\texorpdfstring{findNext()}{findNext()}}
{\footnotesize\ttfamily int find\+Next (\begin{DoxyParamCaption}\item[{int}]{current\+Index,  }\item[{struct \mbox{\hyperlink{structAction}{Action}} $\ast$}]{actions,  }\item[{int}]{length }\end{DoxyParamCaption})}



Finds the index of the next struct \mbox{\hyperlink{structAction}{Action}} element with a different user ID than the current element. 

Returns the index of the next action from the same user. Returns -\/1 if no such actions exist.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em current\+Index} & The index of the current struct \mbox{\hyperlink{structAction}{Action}} element in the array. \\
\hline
\mbox{\texttt{ in}}  & {\em actions} & The array of struct \mbox{\hyperlink{structAction}{Action}} elements. \\
\hline
\mbox{\texttt{ in}}  & {\em length} & The number of elements in the array. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The index of the next struct \mbox{\hyperlink{structAction}{Action}} element with a different user ID than the current element, or -\/1 if no such element exists. 
\end{DoxyReturn}
\mbox{\Hypertarget{action_8c_aa69b05b7473ca303c514cb73c8ffaa2c}\label{action_8c_aa69b05b7473ca303c514cb73c8ffaa2c}} 
\index{action.c@{action.c}!isEarlier@{isEarlier}}
\index{isEarlier@{isEarlier}!action.c@{action.c}}
\doxysubsubsection{\texorpdfstring{isEarlier()}{isEarlier()}}
{\footnotesize\ttfamily int is\+Earlier (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structAction}{Action}} $\ast$}]{previous\+Struct,  }\item[{struct \mbox{\hyperlink{structAction}{Action}} $\ast$}]{current\+Struct }\end{DoxyParamCaption})}



Compare each attribute of previous and current struct to determine which of the two is greater. 

Determines whether the time/date of x is earlier than y.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em previous\+Struct} & pointer to the previous struct \mbox{\hyperlink{structAction}{Action}} \\
\hline
\mbox{\texttt{ in}}  & {\em current\+Struct} & pointer to the current struct \mbox{\hyperlink{structAction}{Action}} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if previous\+Struct is earlier than current\+Struct, 0 otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{action_8c_aac933e8d78c8fdad4d0af46337ded132}\label{action_8c_aac933e8d78c8fdad4d0af46337ded132}} 
\index{action.c@{action.c}!sameDay@{sameDay}}
\index{sameDay@{sameDay}!action.c@{action.c}}
\doxysubsubsection{\texorpdfstring{sameDay()}{sameDay()}}
{\footnotesize\ttfamily int same\+Day (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structAction}{Action}} $\ast$}]{x,  }\item[{struct \mbox{\hyperlink{structAction}{Action}} $\ast$}]{y }\end{DoxyParamCaption})}



Checks whether two struct \mbox{\hyperlink{structAction}{Action}} elements occurred on the same day. 

Returns true if the two given \mbox{\hyperlink{structAction}{Action}} structs are dated to the same day.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em x} & A pointer to the first struct \mbox{\hyperlink{structAction}{Action}} element. \\
\hline
\mbox{\texttt{ in}}  & {\em y} & A pointer to the second struct \mbox{\hyperlink{structAction}{Action}} element. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if both elements occurred on the same day, and 0 otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{action_8c_af3e40c6c5ac5bb3604a4b7c439c3c0b8}\label{action_8c_af3e40c6c5ac5bb3604a4b7c439c3c0b8}} 
\index{action.c@{action.c}!sortActions@{sortActions}}
\index{sortActions@{sortActions}!action.c@{action.c}}
\doxysubsubsection{\texorpdfstring{sortActions()}{sortActions()}}
{\footnotesize\ttfamily void sort\+Actions (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structAction}{Action}} $\ast$}]{actions,  }\item[{int}]{length\+Of\+Array }\end{DoxyParamCaption})}



Sort structs with qsort() algorithm from stdlib library. 

Sorts \mbox{\hyperlink{structAction}{Action}} structs to order.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em actions} & pointer to the array of struct Actions to be sorted \\
\hline
\mbox{\texttt{ in}}  & {\em length\+Of\+Array} & the number of elements in the array \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{action_8c_ac8f230b75ef0e2695f4440d4575faad0}\label{action_8c_ac8f230b75ef0e2695f4440d4575faad0}} 
\index{action.c@{action.c}!timeSpent@{timeSpent}}
\index{timeSpent@{timeSpent}!action.c@{action.c}}
\doxysubsubsection{\texorpdfstring{timeSpent()}{timeSpent()}}
{\footnotesize\ttfamily int time\+Spent (\begin{DoxyParamCaption}\item[{int}]{state,  }\item[{unsigned int}]{user\+ID,  }\item[{int}]{year,  }\item[{int}]{month,  }\item[{int}]{day,  }\item[{struct \mbox{\hyperlink{structAction}{Action}} $\ast$}]{actions }\end{DoxyParamCaption})}



calculates the time spent in a certain state. 

Returns the time spent on the specified state on the specified date (0, 0, 0 for today) in seconds.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em state} & The state to calculate time spent for (0 -\/ working, 1 -\/ on break, 2 -\/ off work). \\
\hline
\mbox{\texttt{ in}}  & {\em user\+ID} & The ID of the user whose time is being calculated. \\
\hline
\mbox{\texttt{ in}}  & {\em year} & The year to calculate time spent for. \\
\hline
\mbox{\texttt{ in}}  & {\em month} & The month to calculate time spent for. \\
\hline
\mbox{\texttt{ in}}  & {\em day} & The day to calculate time spent for. \\
\hline
\mbox{\texttt{ in}}  & {\em actions} & A pointer to an array of actions. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The time spent in seconds. 
\end{DoxyReturn}
